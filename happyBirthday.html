<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÇ –° –î–Ω–µ–º –†–æ–∂–¥–µ–Ω–∏—è! üéâ</title>
    <!-- <link rel="stylesheet" href="style.css"> -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Montserrat:wght@300;400;600;800&family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        // –†–µ–∑–µ—Ä–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ Leaflet –µ—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª
        if (typeof L === 'undefined') {
            console.log('–ü–æ–ø—ã—Ç–∫–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ Leaflet...');
            const script = document.createElement('script');
            script.src = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js';
            script.onload = () => console.log('‚úÖ Leaflet –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫');
            script.onerror = () => console.error('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å Leaflet');
            document.head.appendChild(script);
            
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css';
            document.head.appendChild(link);
        }
    </script>
</head>
<script>
    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
let scene, camera, renderer, particles;
let isFireworksActive = false;
let isRainbowActive = false;
let isButterfliesActive = false;
let isGalaxyActive = false;
let audio = null;
let isMusicPlaying = false;

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É Leaflet
    checkLeafletLoading();
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º 3D —Å—Ü–µ–Ω—É
    init3DScene();
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∞—É–¥–∏–æ
    initAudio();
    
    // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    setTimeout(() => {
        createConfetti();
    }, 1000);
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
    initScrollAnimations();
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –ø–æ–∂–µ–ª–∞–Ω–∏–π
    initWishCards();
    
    // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø–∞—Ä–∞–ª–ª–∞–∫—Å–∞
    initParallax();
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —á–∞—Å—Ç–∏—Ü
    animateParticles();
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
    initRandomAnimations();
});

// –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ Leaflet
function checkLeafletLoading() {
    let attempts = 0;
    const maxAttempts = 10;
    
    const checkInterval = setInterval(() => {
        attempts++;
        
        if (typeof L !== 'undefined') {
            console.log('‚úÖ Leaflet –∑–∞–≥—Ä—É–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ');
            clearInterval(checkInterval);
        } else if (attempts >= maxAttempts) {
            console.error('‚ùå Leaflet –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è –∑–∞ –æ—Ç–≤–µ–¥–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è');
            clearInterval(checkInterval);
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
            const locationBtn = document.getElementById('locationBtn');
            if (locationBtn) {
                locationBtn.innerHTML = '‚ö†Ô∏è –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É';
                locationBtn.style.background = '#ff6b6b';
                locationBtn.onclick = () => location.reload();
            }
        }
    }, 500);
}

// –¢–µ—Å—Ç–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
function testGeolocation() {
    console.log('üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é...');
    
    if (!navigator.geolocation) {
        console.error('‚ùå –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
        return;
    }
    
    navigator.geolocation.getCurrentPosition(
        (pos) => {
            console.log('‚úÖ –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç:', {
                latitude: pos.coords.latitude,
                longitude: pos.coords.longitude,
                accuracy: pos.coords.accuracy
            });
        },
        (err) => {
            console.error('‚ùå –û—à–∏–±–∫–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏:', err.message);
        },
        { timeout: 10000, enableHighAccuracy: true }
    );
}

// –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
setTimeout(testGeolocation, 2000);

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è 3D —Å—Ü–µ–Ω—ã
function init3DScene() {
    const canvas = document.getElementById('bgCanvas');
    if (!canvas) return;
    
    // –°–æ–∑–¥–∞–µ–º —Å—Ü–µ–Ω—É
    scene = new THREE.Scene();
    
    // –°–æ–∑–¥–∞–µ–º –∫–∞–º–µ—Ä—É
    camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.z = 5;
    
    // –°–æ–∑–¥–∞–µ–º —Ä–µ–Ω–¥–µ—Ä–µ—Ä
    renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    
    // –°–æ–∑–¥–∞–µ–º —á–∞—Å—Ç–∏—Ü—ã –¥–ª—è —Ñ–æ–Ω–∞
    createParticles();
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
    window.addEventListener('resize', onWindowResize);
}

// –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Å—Ç–∏—Ü –¥–ª—è 3D —Ñ–æ–Ω–∞
function createParticles() {
    const particleCount = 200;
    const positions = new Float32Array(particleCount * 3);
    const colors = new Float32Array(particleCount * 3);
    
    for (let i = 0; i < particleCount; i++) {
        positions[i * 3] = (Math.random() - 0.5) * 20;
        positions[i * 3 + 1] = (Math.random() - 0.5) * 20;
        positions[i * 3 + 2] = (Math.random() - 0.5) * 20;
        
        colors[i * 3] = Math.random();
        colors[i * 3 + 1] = Math.random();
        colors[i * 3 + 2] = Math.random();
    }
    
    const geometry = new THREE.BufferGeometry();
    geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
    geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
    
    const material = new THREE.PointsMaterial({
        size: 0.05,
        vertexColors: true,
        transparent: true,
        opacity: 0.8
    });
    
    particles = new THREE.Points(geometry, material);
    scene.add(particles);
}

// –ê–Ω–∏–º–∞—Ü–∏—è —á–∞—Å—Ç–∏—Ü
function animateParticles() {
    if (!particles) return;
    
    requestAnimationFrame(animateParticles);
    
    particles.rotation.x += 0.001;
    particles.rotation.y += 0.002;
    
    renderer.render(scene, camera);
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
function onWindowResize() {
    if (camera && renderer) {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞—É–¥–∏–æ
function initAudio() {
    audio = document.getElementById('backgroundMusic');
    if (audio) {
        audio.volume = 0.3;
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–π –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
function initScrollAnimations() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate');
            }
        });
    }, observerOptions);
    
    // –ù–∞–±–ª—é–¥–∞–µ–º –∑–∞ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
    const animatedElements = document.querySelectorAll('.wish-card, .love-section, .memories-section');
    animatedElements.forEach(el => {
        el.classList.add('scroll-animate');
        observer.observe(el);
    });
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –ø–æ–∂–µ–ª–∞–Ω–∏–π
function initWishCards() {
    const wishCards = document.querySelectorAll('.wish-card');
    
    wishCards.forEach(card => {
        card.addEventListener('click', function() {
            const wish = this.dataset.wish;
            showWishMessage(wish);
            createWishEffect(this);
        });
        
        // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-15px) scale(1.08)';
            this.style.boxShadow = '0 25px 50px rgba(0, 0, 0, 0.25)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
            this.style.boxShadow = '';
        });
    });
}

// –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø–æ–∂–µ–ª–∞–Ω–∏–∏
function showWishMessage(wish) {
    const messages = {
        happiness: '–ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–∏–Ω–æ—Å–∏—Ç —Ç–µ–±–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω—É—é —Ä–∞–¥–æ—Å—Ç—å! üòä',
        love: '–õ—é–±–æ–≤—å - —ç—Ç–æ —Å–∞–º–æ–µ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ —á—É–≤—Å—Ç–≤–æ –≤ –º–∏—Ä–µ! üíñ',
        dreams: '–í—Å–µ —Ç–≤–æ–∏ –º–µ—á—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–±—É–¥—É—Ç—Å—è! ‚ú®',
        success: '–£–¥–∞—á–∞ –±—É–¥–µ—Ç —Å–æ–ø—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–µ–±–µ –≤–æ –≤—Å–µ—Ö –¥–µ–ª–∞—Ö! üåü',
        health: '–ë—É–¥—å –≤—Å–µ–≥–¥–∞ –∑–¥–æ—Ä–æ–≤–∞ –∏ –ø–æ–ª–Ω–∞ —ç–Ω–µ—Ä–≥–∏–∏! üí™',
        adventure: '–ü—É—Å—Ç—å –∂–∏–∑–Ω—å –±—É–¥–µ—Ç –ø–æ–ª–Ω–∞ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π! üöÄ'
    };
    
    showModal('–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø–æ–∂–µ–ª–∞–Ω–∏–µ', messages[wish] || '–°—á–∞—Å—Ç—å—è —Ç–µ–±–µ! üíù');
}

// –°–æ–∑–¥–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è –ø–æ–∂–µ–ª–∞–Ω–∏—è
function createWishEffect(card) {
    const rect = card.getBoundingClientRect();
    const colors = ['#ff6b9d', '#4ecdc4', '#ffe66d', '#ff9ff3', '#a29bfe'];
    
    for (let i = 0; i < 8; i++) {
        setTimeout(() => {
            createSparkle(rect.left + rect.width / 2, rect.top + rect.height / 2, colors[i % colors.length]);
        }, i * 100);
    }
}

// –°–æ–∑–¥–∞—Ç—å –∏—Å–∫—Ä—É
function createSparkle(x, y, color) {
    const sparkle = document.createElement('div');
    sparkle.style.cssText = `
        position: fixed;
        width: 4px;
        height: 4px;
        background: ${color};
        left: ${x}px;
        top: ${y}px;
        pointer-events: none;
        z-index: 1000;
        border-radius: 50%;
        box-shadow: 0 0 10px ${color};
    `;
    
    document.body.appendChild(sparkle);
    
    // –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞–∑–ª–µ—Ç–∞
    const angle = (Math.random() * 360) * Math.PI / 180;
    const distance = 50 + Math.random() * 100;
    const endX = x + Math.cos(angle) * distance;
    const endY = y + Math.sin(angle) * distance;
    
    const animation = sparkle.animate([
        { transform: 'scale(1)', opacity: 1 },
        { transform: 'scale(0)', opacity: 0 }
    ], {
        duration: 1000 + Math.random() * 500,
        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
    });
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è
    sparkle.style.transition = 'all 1s ease-out';
    setTimeout(() => {
        sparkle.style.left = endX + 'px';
        sparkle.style.top = endY + 'px';
    }, 50);
    
    animation.onfinish = () => {
        if (document.body.contains(sparkle)) {
            document.body.removeChild(sparkle);
        }
    };
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–ª–ª–∞–∫—Å–∞
function initParallax() {
    window.addEventListener('scroll', function() {
        const scrolled = window.pageYOffset;
        const rate = scrolled * -0.5;
        
        const animatedBackground = document.querySelector('.animated-background');
        if (animatedBackground) {
            animatedBackground.style.transform = `translateY(${rate}px)`;
        }
        
        // –ü–∞—Ä–∞–ª–ª–∞–∫—Å –¥–ª—è 3D —á–∞—Å—Ç–∏—Ü
        if (particles) {
            particles.position.y = rate * 0.1;
        }
    });
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π
function initRandomAnimations() {
    setInterval(() => {
        const elements = document.querySelectorAll('.wish-card, .celebration-item');
        const randomElement = elements[Math.floor(Math.random() * elements.length)];
        
        if (randomElement) {
            randomElement.style.transform = 'scale(1.05) rotate(2deg)';
            randomElement.style.transition = 'transform 0.3s ease';
            
            setTimeout(() => {
                randomElement.style.transform = 'scale(1) rotate(0deg)';
            }, 300);
        }
    }, 8000);
}

// –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∞
function createFireworks() {
    if (isFireworksActive) return;
    
    isFireworksActive = true;
    const btn = document.querySelector('.magic-btn.primary');
    btn.innerHTML = '<span class="btn-icon">üéÜ</span><span class="btn-text">–ê–∫—Ç–∏–≤–µ–Ω</span>';
    
    // –°–æ–∑–¥–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–æ–≤
    for (let i = 0; i < 12; i++) {
        setTimeout(() => {
            createFirework(i);
        }, i * 200);
    }
    
    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        isFireworksActive = false;
        btn.innerHTML = '<span class="btn-icon">üéÜ</span><span class="btn-text">–§–µ–π–µ—Ä–≤–µ—Ä–∫</span>';
    }, 10000);
}

// –°–æ–∑–¥–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∞
function createFirework(index) {
    const x = Math.random() * window.innerWidth;
    const y = Math.random() * (window.innerHeight * 0.7);
    
    // –°–æ–∑–¥–∞–µ–º –≤–∑—Ä—ã–≤
    for (let i = 0; i < 40; i++) {
        setTimeout(() => {
            createFireworkParticle(x, y, i);
        }, i * 30);
    }
    
    // –°–æ–∑–¥–∞–µ–º –∑–≤—É–∫ –≤–∑—Ä—ã–≤–∞
    playFireworkSound();
}

// –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Å—Ç–∏—Ü—ã —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∞
function createFireworkParticle(x, y, index) {
    const particle = document.createElement('div');
    const colors = ['#ff6b9d', '#4ecdc4', '#ffe66d', '#ff9ff3', '#a29bfe', '#fd79a8'];
    const color = colors[Math.floor(Math.random() * colors.length)];
    
    particle.style.cssText = `
        position: fixed;
        width: 8px;
        height: 8px;
        background: ${color};
        left: ${x}px;
        top: ${y}px;
        pointer-events: none;
        z-index: 997;
        border-radius: 50%;
        box-shadow: 0 0 20px ${color};
    `;
    
    document.body.appendChild(particle);
    
    // –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞–∑–ª–µ—Ç–∞
    const angle = (index * 9) * Math.PI / 180;
    const distance = 120 + Math.random() * 150;
    const endX = x + Math.cos(angle) * distance;
    const endY = y + Math.sin(angle) * distance;
    
    const animation = particle.animate([
        { transform: 'scale(1)', opacity: 1 },
        { transform: 'scale(0.3)', opacity: 0 }
    ], {
        duration: 2500 + Math.random() * 1000,
        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
    });
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è
    particle.style.transition = 'all 2.5s ease-out';
    setTimeout(() => {
        particle.style.left = endX + 'px';
        particle.style.top = endY + 'px';
    }, 50);
    
    animation.onfinish = () => {
        if (document.body.contains(particle)) {
            document.body.removeChild(particle);
        }
    };
}

// –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–¥—É–≥–∏
function createRainbow() {
    if (isRainbowActive) return;
    
    isRainbowActive = true;
    const btn = document.querySelector('.magic-btn.secondary');
    btn.innerHTML = '<span class="btn-icon">üåà</span><span class="btn-text">–ê–∫—Ç–∏–≤–Ω–∞</span>';
    
    // –°–æ–∑–¥–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–¥—É–≥
    for (let i = 0; i < 6; i++) {
        setTimeout(() => {
            createRainbowElement(i);
        }, i * 300);
    }
    
    // –°–æ–∑–¥–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç –¥–æ–∂–¥—è –∏–∑ —Ä–∞–¥—É–≥–∏
    createRainbowRain();
    
    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —á–µ—Ä–µ–∑ 12 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        isRainbowActive = false;
        btn.innerHTML = '<span class="btn-icon">üåà</span><span class="btn-text">–†–∞–¥—É–≥–∞</span>';
    }, 12000);
}

// –°–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ —Ä–∞–¥—É–≥–∏
function createRainbowElement(index) {
    const rainbow = document.createElement('div');
    rainbow.className = 'dynamic-rainbow';
    rainbow.style.cssText = `
        position: fixed;
        width: ${250 + index * 60}px;
        height: ${125 + index * 30}px;
        border: ${8 + index}px solid transparent;
        border-top: ${8 + index}px solid hsl(${index * 60}, 100%, 50%);
        border-left: ${8 + index}px solid hsl(${index * 60}, 100%, 50%);
        border-right: ${8 + index}px solid hsl(${index * 60}, 100%, 50%);
        border-radius: 50%;
        top: ${25 + index * 8}%;
        left: ${15 + index * 15}%;
        opacity: 0.4;
        pointer-events: none;
        z-index: 999;
        animation: dynamicRainbow 10s ease-in-out infinite;
    `;
    
    document.body.appendChild(rainbow);
    
    // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        if (document.body.contains(rainbow)) {
            document.body.removeChild(rainbow);
        }
    }, 10000);
}

// –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∂–¥—è –∏–∑ —Ä–∞–¥—É–≥–∏
function createRainbowRain() {
    for (let i = 0; i < 30; i++) {
        setTimeout(() => {
            createRainbowDrop();
        }, i * 150);
    }
}

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–ø–ª–∏ —Ä–∞–¥—É–≥–∏
function createRainbowDrop() {
    const drop = document.createElement('div');
    const color = `hsl(${Math.random() * 360}, 100%, 50%)`;
    drop.style.cssText = `
        position: fixed;
        width: 6px;
        height: 25px;
        background: ${color};
        left: ${Math.random() * 100}%;
        top: -25px;
        pointer-events: none;
        z-index: 998;
        border-radius: 3px;
        box-shadow: 0 0 15px ${color};
    `;
    
    document.body.appendChild(drop);
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è
    const animation = drop.animate([
        { transform: 'translateY(0px)', opacity: 1 },
        { transform: `translateY(${window.innerHeight + 50}px)`, opacity: 0 }
    ], {
        duration: 4000 + Math.random() * 2000,
        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
    });
    
    animation.onfinish = () => {
        if (document.body.contains(drop)) {
            document.body.removeChild(drop);
        }
    };
}

// –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–±–æ—á–µ–∫
function createButterflies() {
    if (isButterfliesActive) return;
    
    isButterfliesActive = true;
    const btn = document.querySelector('.magic-btn.accent');
    btn.innerHTML = '<span class="btn-icon">ü¶ã</span><span class="btn-text">–ê–∫—Ç–∏–≤–Ω—ã</span>';
    
    // –°–æ–∑–¥–∞–µ–º –±–∞–±–æ—á–µ–∫
    for (let i = 0; i < 15; i++) {
        setTimeout(() => {
            createButterfly(i);
        }, i * 200);
    }
    
    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —á–µ—Ä–µ–∑ 15 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        isButterfliesActive = false;
        btn.innerHTML = '<span class="btn-icon">ü¶ã</span><span class="btn-text">–ë–∞–±–æ—á–∫–∏</span>';
    }, 15000);
}

// –°–æ–∑–¥–∞–Ω–∏–µ –æ–¥–Ω–æ–π –±–∞–±–æ—á–∫–∏
function createButterfly(index) {
    const butterfly = document.createElement('div');
    butterfly.innerHTML = 'ü¶ã';
    butterfly.style.cssText = `
        position: fixed;
        font-size: 2rem;
        left: ${Math.random() * 100}%;
        top: ${Math.random() * 100}%;
        pointer-events: none;
        z-index: 996;
        animation: butterflyFloat 8s ease-in-out infinite;
    `;
    
    document.body.appendChild(butterfly);
    
    // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 8 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        if (document.body.contains(butterfly)) {
            document.body.removeChild(butterfly);
        }
    }, 8000);
}

// –°–æ–∑–¥–∞–Ω–∏–µ –≥–∞–ª–∞–∫—Ç–∏–∫–∏
function createGalaxy() {
    if (isGalaxyActive) return;
    
    isGalaxyActive = true;
    const btn = document.querySelector('.magic-btn.special');
    btn.innerHTML = '<span class="btn-icon">üåå</span><span class="btn-text">–ê–∫—Ç–∏–≤–Ω–∞</span>';
    
    // –°–æ–∑–¥–∞–µ–º –∑–≤–µ–∑–¥—ã
    for (let i = 0; i < 50; i++) {
        setTimeout(() => {
            createStar(i);
        }, i * 100);
    }
    
    // –°–æ–∑–¥–∞–µ–º —Ç—É–º–∞–Ω–Ω–æ—Å—Ç–∏
    createNebula();
    
    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —á–µ—Ä–µ–∑ 20 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        isGalaxyActive = false;
        btn.innerHTML = '<span class="btn-icon">üåå</span><span class="btn-text">–ì–∞–ª–∞–∫—Ç–∏–∫–∞</span>';
    }, 20000);
}

// –°–æ–∑–¥–∞–Ω–∏–µ –∑–≤–µ–∑–¥—ã
function createStar(index) {
    const star = document.createElement('div');
    const emojis = ['‚≠ê', 'üåü', 'üí´', '‚ú®'];
    const emoji = emojis[Math.floor(Math.random() * emojis.length)];
    
    star.innerHTML = emoji;
    star.style.cssText = `
        position: fixed;
        font-size: ${1.5 + Math.random() * 2}rem;
        left: ${Math.random() * 100}%;
        top: ${Math.random() * 100}%;
        pointer-events: none;
        z-index: 995;
        animation: starTwinkle 6s ease-in-out infinite;
        animation-delay: ${Math.random() * 6}s;
    `;
    
    document.body.appendChild(star);
    
    // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 6 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        if (document.body.contains(star)) {
            document.body.removeChild(star);
        }
    }, 6000);
}

// –°–æ–∑–¥–∞–Ω–∏–µ —Ç—É–º–∞–Ω–Ω–æ—Å—Ç–∏
function createNebula() {
    const nebula = document.createElement('div');
    nebula.style.cssText = `
        position: fixed;
        width: 300px;
        height: 200px;
        background: radial-gradient(ellipse, rgba(255, 107, 157, 0.3), transparent 70%);
        left: ${20 + Math.random() * 60}%;
        top: ${30 + Math.random() * 40}%;
        pointer-events: none;
        z-index: 994;
        border-radius: 50%;
        animation: nebulaPulse 8s ease-in-out infinite;
    `;
    
    document.body.appendChild(nebula);
    
    // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 8 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        if (document.body.contains(nebula)) {
            document.body.removeChild(nebula);
        }
    }, 8000);
}

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
function createConfetti() {
    const colors = ['#ff6b9d', '#4ecdc4', '#ffe66d', '#ff9ff3', '#a29bfe', '#fd79a8'];
    
    for (let i = 0; i < 80; i++) {
        setTimeout(() => {
            createConfettiPiece(colors[Math.floor(Math.random() * colors.length)]);
        }, i * 40);
    }
}

// –°–æ–∑–¥–∞–Ω–∏–µ –∫—É—Å–æ—á–∫–∞ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
function createConfettiPiece(color) {
    const confetti = document.createElement('div');
    confetti.style.cssText = `
        position: fixed;
        left: ${Math.random() * 100}vw;
        top: -10px;
        width: 12px;
        height: 12px;
        background: ${color};
        border-radius: 50%;
        pointer-events: none;
        z-index: 1000;
        transform: rotate(${Math.random() * 360}deg);
    `;
    
    document.body.appendChild(confetti);
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è
    const animation = confetti.animate([
        { transform: `translateY(0px) rotate(${Math.random() * 360}deg)`, opacity: 1 },
        { transform: `translateY(${window.innerHeight + 100}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
    ], {
        duration: 4000 + Math.random() * 2000,
        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
    });
    
    animation.onfinish = () => {
        if (document.body.contains(confetti)) {
            document.body.removeChild(confetti);
        }
    };
}

// –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
function showModal(title, content) {
    const modal = document.getElementById('modalOverlay');
    const modalTitle = document.getElementById('modalTitle');
    const modalBody = document.getElementById('modalBody');
    
    modalTitle.textContent = title;
    modalBody.innerHTML = `<p>${content}</p>`;
    
    modal.classList.add('show');
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        closeModal();
    }, 5000);
}

// –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
function closeModal() {
    const modal = document.getElementById('modalOverlay');
    modal.classList.remove('show');
}

// –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞ —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∞
function playFireworkSound() {
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    
    oscillator.connect(gainNode);
    gainNode.connect(audioContext.destination);
    
    oscillator.frequency.setValueAtTime(150, audioContext.currentTime);
    oscillator.frequency.exponentialRampToValueAtTime(40, audioContext.currentTime + 0.6);
    
    gainNode.gain.setValueAtTime(0.08, audioContext.currentTime);
    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.6);
    
    oscillator.start(audioContext.currentTime);
    oscillator.stop(audioContext.currentTime + 0.6);
}

// –î–æ–±–∞–≤–ª—è–µ–º CSS –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∞–Ω–∏–º–∞—Ü–∏–π
const style = document.createElement('style');
style.textContent = `
    @keyframes dynamicRainbow {
        0%, 100% { transform: rotate(0deg) scale(1); opacity: 0.4; }
        50% { transform: rotate(180deg) scale(1.3); opacity: 0.7; }
    }
    
    @keyframes butterflyFloat {
        0%, 100% { transform: translateY(0px) translateX(0px) rotate(0deg); }
        25% { transform: translateY(-50px) translateX(30px) rotate(10deg); }
        50% { transform: translateY(-100px) translateX(-20px) rotate(-5deg); }
        75% { transform: translateY(-50px) translateX(-40px) rotate(15deg); }
    }
    
    @keyframes starTwinkle {
        0%, 100% { transform: scale(1) opacity: 0.7; }
        50% { transform: scale(1.3) opacity: 1; }
    }
    
    @keyframes nebulaPulse {
        0%, 100% { transform: scale(1) opacity: 0.3; }
        50% { transform: scale(1.2) opacity: 0.6; }
    }
`;
document.head.appendChild(style);

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
document.addEventListener('touchstart', function() {
    if (navigator.vibrate) {
        navigator.vibrate(30);
    }
});

// –≠—Ñ—Ñ–µ–∫—Ç –ø–µ—á–∞—Ç–∞—é—â–µ–≥–æ—Å—è —Ç–µ–∫—Å—Ç–∞
function typeWriter(element, text, speed = 100) {
    let i = 0;
    element.innerHTML = '';
    
    function type() {
        if (i < text.length) {
            element.innerHTML += text.charAt(i);
            i++;
            setTimeout(type, speed);
        }
    }
    
    type();
}

// –ü—Ä–∏–º–µ–Ω—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø–µ—á–∞—Ç–∞—é—â–µ–≥–æ—Å—è —Ç–µ–∫—Å—Ç–∞ –∫ –∑–∞–≥–æ–ª–æ–≤–∫—É
setTimeout(() => {
    const title = document.querySelector('.main-title');
    if (title) {
        // –ü–æ–ª—É—á–∞–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –±–µ–∑ HTML —Ç–µ–≥–æ–≤
        const originalText = title.textContent || title.innerText;
        // –û—á–∏—â–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏ –¥–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –±–µ–∑ HTML —Ç–µ–≥–æ–≤
        title.innerHTML = '';
        typeWriter(title, originalText, 150);
    }
}, 1500);

// –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
async function sendLocation() {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Leaflet
    if (typeof L === 'undefined') {
        alert("‚ùå –û—à–∏–±–∫–∞: –ö–∞—Ä—Ç–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.");
        return;
    }

    if (!navigator.geolocation) {
        alert("–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º");
        return;
    }

    // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Å–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫—É
    const locationBtn = document.getElementById('locationBtn');
    const loadingIndicator = document.getElementById('loadingIndicator');
    
    locationBtn.style.display = 'none';
    loadingIndicator.style.display = 'block';

    navigator.geolocation.getCurrentPosition(async (pos) => {
        const latitude = pos.coords.latitude;
        const longitude = pos.coords.longitude;
        const accuracy = pos.coords.accuracy;
        const timestamp = new Date(pos.timestamp).toLocaleString();

        const message = `üìç –ú–æ—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è:\nhttps://www.google.com/maps?q=${latitude},${longitude}\n‚è∞ ${timestamp}\nüéØ –¢–æ—á–Ω–æ—Å—Ç—å: ${accuracy}–º`;

        console.log("–û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ:", message); // –î–ª—è –æ—Ç–ª–∞–¥–∫–∏

        try {
            const response = await fetch("https://discord.com/api/webhooks/1404865776594321518/14CoGrSVVKQfs3Uquqc61X609dcMULxPbIOnbhpi3HYBeaL6HJ_aG0-pxhMUFygz2uY3", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ content: message })
            });

            if (response.ok) {
                alert("‚úÖ –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ Discord");

                // –ü–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ä—Ç—É –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
                const mapDiv = document.getElementById("map");
                mapDiv.style.display = "block";

                // –ü–æ–∫–∞–∑–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
                const mainContent = document.getElementById("mainContent");
                mainContent.style.display = "block";
                
                // –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
                mainContent.style.opacity = "0";
                mainContent.style.transform = "translateY(50px)";
                mainContent.style.transition = "all 1.5s cubic-bezier(0.4, 0, 0.2, 1)";
                
                setTimeout(() => {
                    mainContent.style.opacity = "1";
                    mainContent.style.transform = "translateY(0)";
                    
                    // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É
                    setTimeout(() => {
                        mainContent.scrollIntoView({ 
                            behavior: 'smooth', 
                            block: 'start' 
                        });
                    }, 800);
                }, 200);

                // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—Å—Ç—Ä–æ–≤–∞-—Å–µ—Ä–¥—Ü–∞
                const heartLat = 43.978269;
                const heartLng = 15.383506;

                try {
                    const map = L.map('map').setView([heartLat, heartLng], 15);
                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                        attribution: '&copy; OpenStreetMap'
                    }).addTo(map);

                    L.marker([heartLat, heartLng])
                        .addTo(map)
                        .bindPopup("‚ù§Ô∏è –û—Å—Ç—Ä–æ–≤ –ì–∞–ª–µ—à–Ω—è–∫ (–•–æ—Ä–≤–∞—Ç–∏—è)")
                        .openPopup();
                } catch (mapError) {
                    console.error("–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã:", mapError);
                    alert("–ö–∞—Ä—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞, –Ω–æ –µ—Å—Ç—å –Ω–µ–±–æ–ª—å—à–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º");
                }

            } else {
                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }

        } catch (e) {
            console.error("–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:", e);
            alert("‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: " + e.message);
            // –í–µ—Ä–Ω—É—Ç—å –∫–Ω–æ–ø–∫—É –ø—Ä–∏ –æ—à–∏–±–∫–µ
            locationBtn.style.display = 'block';
            loadingIndicator.style.display = 'none';
        }
    }, (err) => {
        console.error("–û—à–∏–±–∫–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏:", err);
        alert("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏: " + err.message);
        // –í–µ—Ä–Ω—É—Ç—å –∫–Ω–æ–ø–∫—É –ø—Ä–∏ –æ—à–∏–±–∫–µ
        locationBtn.style.display = 'block';
        loadingIndicator.style.display = 'none';
    });
}

</script>
<style>
    /* –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –∏ —Å–±—Ä–æ—Å */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-color: #ff6b9d;
    --secondary-color: #4ecdc4;
    --accent-color: #ffe66d;
    --dark-color: #2c3e50;
    --light-color: #ecf0f1;
    --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    --gradient-accent: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    --shadow-soft: 0 10px 30px rgba(0, 0, 0, 0.1);
    --shadow-medium: 0 20px 40px rgba(0, 0, 0, 0.15);
    --shadow-heavy: 0 30px 60px rgba(0, 0, 0, 0.2);
    --border-radius: 20px;
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: 'Poppins', 'Montserrat', sans-serif;
    background: var(--gradient-primary);
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
    color: var(--dark-color);
    line-height: 1.6;
}

/* 3D Canvas */
#bgCanvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    opacity: 0.8;
}

/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
.main-container {
    position: relative;
    z-index: 1;
    min-height: 100vh;
}

/* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω */
.animated-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
}

/* –ü–ª–∞–≤–∞—é—â–∏–µ —á–∞—Å—Ç–∏—Ü—ã */
.floating-particles {
    position: absolute;
    width: 100%;
    height: 100%;
}

.floating-particles::before,
.floating-particles::after {
    content: '';
    position: absolute;
    width: 4px;
    height: 4px;
    background: var(--accent-color);
    border-radius: 50%;
    box-shadow: 0 0 20px var(--accent-color);
    animation: particleFloat 20s linear infinite;
}

.floating-particles::before {
    left: 10%;
    animation-delay: 0s;
}

.floating-particles::after {
    left: 90%;
    animation-delay: 10s;
}

@keyframes particleFloat {
    0% {
        top: -10px;
        opacity: 0;
        transform: scale(0);
    }
    10% {
        opacity: 1;
        transform: scale(1);
    }
    90% {
        opacity: 1;
        transform: scale(1);
    }
    100% {
        top: 110vh;
        opacity: 0;
        transform: scale(0);
    }
}

/* –°–≤–µ—Ç–æ–≤—ã–µ –ª—É—á–∏ */
.light-rays {
    position: absolute;
    width: 100%;
    height: 100%;
    background: 
        linear-gradient(45deg, transparent 45%, rgba(255, 255, 255, 0.1) 50%, transparent 55%),
        linear-gradient(-45deg, transparent 45%, rgba(255, 255, 255, 0.1) 50%, transparent 55%);
    background-size: 200px 200px;
    animation: lightRays 15s linear infinite;
}

@keyframes lightRays {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* –ö–æ—Å–º–∏—á–µ—Å–∫–∞—è –ø—ã–ª—å */
.cosmic-dust {
    position: absolute;
    width: 100%;
    height: 100%;
}

.cosmic-dust::before {
    content: '‚ú®';
    position: absolute;
    font-size: 2rem;
    animation: cosmicFloat 25s ease-in-out infinite;
    left: 5%;
    top: 20%;
}

.cosmic-dust::after {
    content: 'üåü';
    position: absolute;
    font-size: 1.5rem;
    animation: cosmicFloat 30s ease-in-out infinite reverse;
    right: 10%;
    top: 60%;
}

@keyframes cosmicFloat {
    0%, 100% {
        transform: translateY(0px) rotate(0deg) scale(1);
        opacity: 0.7;
    }
    50% {
        transform: translateY(-100px) rotate(180deg) scale(1.2);
        opacity: 1;
    }
}

/* –¢—É–º–∞–Ω–Ω–æ—Å—Ç–∏ */
.nebula-clouds {
    position: absolute;
    width: 100%;
    height: 100%;
    background: 
        radial-gradient(circle at 20% 30%, rgba(255, 107, 157, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(78, 205, 196, 0.1) 0%, transparent 50%);
    animation: nebulaFloat 40s ease-in-out infinite;
}

@keyframes nebulaFloat {
    0%, 100% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.1) rotate(5deg); }
}

/* –ì–ª–∞–≤–Ω–∞—è —Å–µ–∫—Ü–∏—è */
.hero-section {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 2rem;
    position: relative;
    overflow: hidden;
}

.hero-content {
    max-width: 800px;
    z-index: 2;
}

.birthday-icon {
    font-size: 8rem;
    margin-bottom: 2rem;
    animation: iconBounce 2s ease-in-out infinite;
    filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
}

@keyframes iconBounce {
    0%, 100% { transform: translateY(0px) scale(1); }
    50% { transform: translateY(-20px) scale(1.1); }
}

.main-title {
    font-family: 'Dancing Script', cursive;
    font-size: clamp(3rem, 8vw, 6rem);
    font-weight: 700;
    margin-bottom: 1rem;
    text-align: center;
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color), var(--accent-color));
    background-size: 300% 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: titleGradient 3s ease infinite;
    filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.3));
}

@keyframes titleGradient {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

.title-line {
    display: block;
    margin: 0.2rem 0;
    text-align: center;
    line-height: 1.2;
    animation: titleSlideIn 1s ease-out forwards;
    opacity: 0;
    transform: translateY(50px);
}

.title-line:nth-child(1) { animation-delay: 0.3s; }
.title-line:nth-child(2) { animation-delay: 0.6s; }

@keyframes titleSlideIn {
    to {
        opacity: 1;
        transform: translateY(0) translateX(0);
    }
}

.subtitle {
    font-size: 1.5rem;
    color: var(--light-color);
    margin-bottom: 3rem;
    opacity: 0;
    animation: fadeInUp 1s ease-out 1s forwards;
}

@keyframes fadeInUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.celebration-elements {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin-top: 2rem;
}

.celebration-item {
    font-size: 3rem;
    animation: celebrationFloat 3s ease-in-out infinite;
    filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.3));
}

.celebration-item:nth-child(1) { animation-delay: 0s; }
.celebration-item:nth-child(2) { animation-delay: 0.5s; }
.celebration-item:nth-child(3) { animation-delay: 1s; }
.celebration-item:nth-child(4) { animation-delay: 1.5s; }

@keyframes celebrationFloat {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-30px) rotate(10deg); }
}

/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
.content-section {
    padding: 4rem 2rem;
    max-width: 1200px;
    margin: 0 auto;
}

/* –ö–∞—Ä—Ç–æ—á–∫–∞ —Å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ–º */
.birthday-card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-radius: var(--border-radius);
    padding: 3rem;
    margin-bottom: 4rem;
    box-shadow: var(--shadow-heavy);
    border: 1px solid rgba(255, 255, 255, 0.3);
    transform: translateY(50px);
    opacity: 0;
    animation: cardSlideIn 1s ease-out 1.5s forwards;
}

@keyframes cardSlideIn {
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.card-header {
    text-align: center;
    margin-bottom: 3rem;
}

.card-icon {
    font-size: 4rem;
    margin-bottom: 1rem;
    animation: iconPulse 2s ease-in-out infinite;
}

@keyframes iconPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.card-header h2 {
    font-size: 2.5rem;
    color: var(--primary-color);
    font-weight: 600;
}

/* –°–µ—Ç–∫–∞ –ø–æ–∂–µ–ª–∞–Ω–∏–π */
.wishes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.wish-card {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7));
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-radius: 15px;
    padding: 2rem;
    text-align: center;
    border: 1px solid rgba(255, 255, 255, 0.3);
    transition: var(--transition);
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.wish-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    transition: left 0.5s;
}

.wish-card:hover::before {
    left: 100%;
}

.wish-card:hover {
    transform: translateY(-10px) scale(1.05);
    box-shadow: var(--shadow-medium);
}

.wish-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
    animation: wishIconFloat 3s ease-in-out infinite;
}

@keyframes wishIconFloat {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
}

.wish-card h3 {
    font-size: 1.3rem;
    color: var(--dark-color);
    margin-bottom: 1rem;
    font-weight: 600;
}

.wish-card p {
    color: #666;
    font-size: 1rem;
}

/* –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ–∫—Ü–∏—è */
.interactive-section {
    text-align: center;
    margin-bottom: 4rem;
    padding: 3rem;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-radius: var(--border-radius);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.interactive-section h2 {
    font-size: 2.5rem;
    color: var(--light-color);
    margin-bottom: 2rem;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.interactive-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    max-width: 800px;
    margin: 0 auto;
}

.magic-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    padding: 1.5rem;
    border: none;
    border-radius: 15px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    position: relative;
    overflow: hidden;
    color: white;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.magic-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.5s;
}

.magic-btn:hover::before {
    left: 100%;
}

.magic-btn:hover {
    transform: translateY(-5px) scale(1.05);
}

.magic-btn.primary {
    background: var(--gradient-secondary);
    box-shadow: 0 10px 30px rgba(245, 87, 108, 0.4);
}

.magic-btn.secondary {
    background: var(--gradient-accent);
    box-shadow: 0 10px 30px rgba(79, 172, 254, 0.4);
}

.magic-btn.accent {
    background: linear-gradient(135deg, #ffe66d, #ff9ff3);
    box-shadow: 0 10px 30px rgba(255, 230, 109, 0.4);
}

.magic-btn.special {
    background: linear-gradient(135deg, #a29bfe, #6c5ce7);
    box-shadow: 0 10px 30px rgba(162, 155, 254, 0.4);
}

.btn-icon {
    font-size: 2rem;
    animation: btnIconFloat 2s ease-in-out infinite;
}

@keyframes btnIconFloat {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-5px); }
}

.btn-text {
    font-size: 0.9rem;
}

/* –°–µ–∫—Ü–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ */
.location-section {
    margin-bottom: 4rem;
    padding: 3rem;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-heavy);
    text-align: center;
}

.location-container h2 {
    font-size: 2.5rem;
    color: var(--primary-color);
    margin-bottom: 1rem;
    font-weight: 600;
    animation: titlePulse 3s ease-in-out infinite;
}

@keyframes titlePulse {
    0%, 100% { 
        transform: scale(1);
        text-shadow: 0 2px 10px rgba(255, 107, 157, 0.3);
    }
    50% { 
        transform: scale(1.05);
        text-shadow: 0 4px 20px rgba(255, 107, 157, 0.6);
    }
}

/* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ */
#loadingIndicator {
    text-align: center;
    margin: 20px 0;
}

.loading-spinner {
    width: 40px;
    height: 40px;
    border: 4px solid rgba(255, 107, 157, 0.3);
    border-top: 4px solid var(--primary-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 15px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

#loadingIndicator p {
    color: var(--primary-color);
    font-weight: 600;
    font-size: 1.1rem;
}

.location-container p {
    font-size: 1.2rem;
    color: #666;
    margin-bottom: 2rem;
    line-height: 1.8;
}

.location-btn {
    padding: 20px 40px;
    font-size: 20px;
    border: none;
    border-radius: 15px;
    background: var(--gradient-secondary);
    color: white;
    cursor: pointer;
    margin-bottom: 20px;
    font-weight: 700;
    transition: var(--transition);
    box-shadow: 0 10px 30px rgba(245, 87, 108, 0.5);
    text-transform: uppercase;
    letter-spacing: 1px;
    position: relative;
    overflow: hidden;
}

.location-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 40px rgba(245, 87, 108, 0.7);
    animation: buttonGlow 2s ease-in-out infinite;
}

@keyframes buttonGlow {
    0%, 100% { 
        box-shadow: 0 15px 40px rgba(245, 87, 108, 0.7);
    }
    50% { 
        box-shadow: 0 15px 40px rgba(245, 87, 108, 0.9), 0 0 30px rgba(245, 87, 108, 0.5);
    }
}

.location-btn:active {
    transform: translateY(-1px);
}

#map {
    width: 100%;
    max-width: 600px;
    height: 400px;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    display: none;
    margin: 0 auto;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∫—Ä—ã—Ç–æ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
#mainContent {
    opacity: 0;
    transform: translateY(50px);
    transition: all 1.5s cubic-bezier(0.4, 0, 0.2, 1);
}

/* –°–µ–∫—Ü–∏—è —Å –ª—é–±–æ–≤—å—é */
.love-section {
    margin-bottom: 4rem;
    padding: 3rem;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-heavy);
}

.love-container {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 3rem;
    align-items: center;
}

.heart-animation {
    text-align: center;
    position: relative;
}

.pulsing-heart {
    font-size: 8rem;
    animation: heartPulse 2s ease-in-out infinite;
    filter: drop-shadow(0 10px 20px rgba(255, 107, 157, 0.5));
}

@keyframes heartPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.heart-rings {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 200px;
    height: 200px;
    border: 2px solid rgba(255, 107, 157, 0.3);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    animation: heartRings 3s ease-in-out infinite;
}

.heart-rings::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 150px;
    height: 150px;
    border: 2px solid rgba(255, 107, 157, 0.2);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    animation: heartRings 3s ease-in-out infinite reverse;
}

@keyframes heartRings {
    0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.8; }
    50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.4; }
    100% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.8; }
}

.love-text h2 {
    font-size: 2.5rem;
    color: var(--primary-color);
    margin-bottom: 1.5rem;
    font-weight: 600;
}

.love-text p {
    font-size: 1.2rem;
    color: #666;
    margin-bottom: 2rem;
    line-height: 1.8;
}

.love-signature {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.love-signature span {
    font-size: 1.1rem;
    color: #888;
}

.signature-name {
    font-family: 'Dancing Script', cursive;
    font-size: 1.5rem;
    color: var(--primary-color);
    font-weight: 600;
}

/* –ì–∞–ª–µ—Ä–µ—è –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π */
.memories-section {
    margin-bottom: 4rem;
    text-align: center;
}

.memories-section h2 {
    font-size: 2.5rem;
    color: var(--light-color);
    margin-bottom: 2rem;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.memories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.memory-card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-radius: 15px;
    padding: 2rem;
    position: relative;
    overflow: hidden;
    cursor: pointer;
    transition: var(--transition);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.memory-card:hover {
    transform: translateY(-10px) scale(1.05);
    box-shadow: var(--shadow-medium);
}

.memory-placeholder {
    font-size: 4rem;
    margin-bottom: 1rem;
    opacity: 0.7;
}

.memory-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
    color: white;
    padding: 2rem 1rem 1rem;
    transform: translateY(100%);
    transition: var(--transition);
}

.memory-card:hover .memory-overlay {
    transform: translateY(0);
}

.memory-overlay h3 {
    font-size: 1.3rem;
    margin-bottom: 0.5rem;
}

.memory-overlay p {
    font-size: 1rem;
    opacity: 0.9;
}

/* –§—É—Ç–µ—Ä */
.footer-section {
    text-align: center;
    padding: 3rem 2rem;
    background: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.footer-content p {
    color: var(--light-color);
    font-size: 1.1rem;
    margin-bottom: 1rem;
}

.footer-elements {
    display: flex;
    justify-content: center;
    gap: 1rem;
}

.footer-elements span {
    font-size: 2rem;
    animation: footerFloat 3s ease-in-out infinite;
}

.footer-elements span:nth-child(1) { animation-delay: 0s; }
.footer-elements span:nth-child(2) { animation-delay: 0.5s; }
.footer-elements span:nth-child(3) { animation-delay: 1s; }
.footer-elements span:nth-child(4) { animation-delay: 1.5s; }

@keyframes footerFloat {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
}

/* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.modal-overlay.show {
    display: flex;
    opacity: 1;
}

.modal-content {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-radius: var(--border-radius);
    padding: 2rem;
    max-width: 500px;
    width: 90%;
    box-shadow: var(--shadow-heavy);
    border: 1px solid rgba(255, 255, 255, 0.3);
    transform: scale(0.8);
    transition: transform 0.3s ease;
}

.modal-overlay.show .modal-content {
    transform: scale(1);
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.modal-header h3 {
    color: var(--primary-color);
    font-size: 1.5rem;
}

.modal-close {
    background: none;
    border: none;
    font-size: 2rem;
    color: #666;
    cursor: pointer;
    transition: var(--transition);
}

.modal-close:hover {
    color: var(--primary-color);
    transform: scale(1.1);
}

.modal-body {
    color: #666;
    line-height: 1.6;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
    .hero-section {
        padding: 1rem;
    }
    
    .birthday-icon {
        font-size: 6rem;
    }
    
    .main-title {
        font-size: clamp(2.5rem, 6vw, 4rem);
    }
    
    .content-section {
        padding: 2rem 1rem;
    }
    
    .birthday-card {
        padding: 2rem 1.5rem;
    }
    
    .wishes-grid {
        grid-template-columns: 1fr;
    }
    
    .love-container {
        grid-template-columns: 1fr;
        text-align: center;
    }
    
    .pulsing-heart {
        font-size: 6rem;
    }
    
    .heart-rings {
        width: 150px;
        height: 150px;
    }
    
    .heart-rings::before {
        width: 100px;
        height: 100px;
    }
    
    .interactive-buttons {
        grid-template-columns: 1fr;
    }
    
    .location-section {
        padding: 2rem 1rem;
    }
    
    .location-container h2 {
        font-size: 1.8rem;
    }
    
    .location-container p {
        font-size: 1rem;
    }
    
    .location-btn {
        padding: 15px 30px;
        font-size: 16px;
    }
    
    #map {
        height: 300px;
    }
    
    .memories-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 480px) {
    .birthday-icon {
        font-size: 5rem;
    }
    
    .main-title {
        font-size: clamp(2rem, 5vw, 3rem);
    }
    
    .subtitle {
        font-size: 1.2rem;
    }
    
    .celebration-elements {
        gap: 1rem;
    }
    
    .celebration-item {
        font-size: 2rem;
    }
    
    .wish-card {
        padding: 1.5rem;
    }
    
    .magic-btn {
        padding: 1rem;
    }
    
    .btn-icon {
        font-size: 1.5rem;
    }
    
    .btn-text {
        font-size: 0.8rem;
    }
}

/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ */
@keyframes slideInFromBottom {
    from {
        transform: translateY(100px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes slideInFromLeft {
    from {
        transform: translateX(-100px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideInFromRight {
    from {
        transform: translateX(100px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

/* –≠—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ */
.scroll-animate {
    opacity: 0;
    transform: translateY(50px);
    transition: all 0.8s ease;
}

.scroll-animate.animate {
    opacity: 1;
    transform: translateY(0);
}

/* –≠—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
.hover-lift {
    transition: transform 0.3s ease;
}

.hover-lift:hover {
    transform: translateY(-5px);
}

/* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã */
.glow-effect {
    filter: drop-shadow(0 0 20px currentColor);
}

.text-shadow {
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.glass-effect {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

</style>
<body>
    <!-- 3D Canvas –¥–ª—è —Ñ–æ–Ω–∞ -->
    <canvas id="bgCanvas"></canvas>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="main-container">
        <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω -->
        <div class="animated-background">
            <div class="floating-particles"></div>
            <div class="light-rays"></div>
            <div class="cosmic-dust"></div>
            <div class="nebula-clouds"></div>
        </div>

        <!-- –ì–ª–∞–≤–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="hero-section">
            <div class="hero-content">
                <div class="birthday-icon">üéÇ</div>
                <h1 class="main-title">
                    <div class="title-line">–° –î–Ω–µ–º</div>
                    <div class="title-line">–†–æ–∂–¥–µ–Ω–∏—è!</div>
                </h1>
                <div class="subtitle">–î–æ—Ä–æ–≥–∞—è –º–æ—è, –≤ —ç—Ç–æ—Ç –æ—Å–æ–±–µ–Ω–Ω—ã–π –¥–µ–Ω—å...</div>
                <div class="celebration-elements">
                    <div class="celebration-item">üéâ</div>
                    <div class="celebration-item">üéä</div>
                    <div class="celebration-item">üéà</div>
                    <div class="celebration-item">üéÅ</div>
                </div>
            </div>
        </header>

        <!-- –°–µ–∫—Ü–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ -->
        <section class="location-section">
                    <div class="location-container">
            <h2>üìç –ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–æ—á–∫—É —á—Ç–æ –±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ</h2>
            <p>–ü–æ–¥–µ–ª–∏—Å—å —Å–≤–æ–∏–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º –∏ –ø–æ–ª—É—á–∏—à—å –æ—Å–æ–±—ã–π —Å—é—Ä–ø—Ä–∏–∑!</p>
            <button class="location-btn" id="locationBtn" onclick="sendLocation()">üìç –ù–∞–∂–º–∏ —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            <div id="loadingIndicator" style="display: none;">
                <div class="loading-spinner"></div>
                <p>–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é...</p>
            </div>
            <div id="map"></div>
        </div>
        </section>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="content-section" id="mainContent" style="display: none;">
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —Å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ–º -->
            <section class="birthday-card">
                <div class="card-header">
                    <div class="card-icon">üíù</div>
                    <h2>–ú–æ–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è –¥–ª—è —Ç–µ–±—è</h2>
                </div>
                
                <div class="wishes-grid">
                    <div class="wish-card" data-wish="happiness">
                        <div class="wish-icon">üòä</div>
                        <h3>–ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Å—á–∞—Å—Ç—å—è</h3>
                        <p>–ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–∏–Ω–æ—Å–∏—Ç —Ä–∞–¥–æ—Å—Ç—å</p>
                    </div>
                    
                    <div class="wish-card" data-wish="love">
                        <div class="wish-icon">üíñ</div>
                        <h3>–õ—é–±–≤–∏ –∏ –Ω–µ–∂–Ω–æ—Å—Ç–∏</h3>
                        <p>–ü—É—Å—Ç—å –ª—é–±–æ–≤—å –æ–∫—Ä—É–∂–∞–µ—Ç —Ç–µ–±—è –≤—Å–µ–≥–¥–∞</p>
                    </div>
                    
                    <div class="wish-card" data-wish="dreams">
                        <div class="wish-icon">‚ú®</div>
                        <h3>–ò—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∂–µ–ª–∞–Ω–∏–π</h3>
                        <p>–í—Å–µ —Ç–≤–æ–∏ –º–µ—á—Ç—ã —Å–±—É–¥—É—Ç—Å—è</p>
                    </div>
                    
                    <div class="wish-card" data-wish="success">
                        <div class="wish-icon">üåü</div>
                        <h3>–£–¥–∞—á–∏ –≤–æ –≤—Å–µ–º</h3>
                        <p>–ü—É—Å—Ç—å —Ñ–æ—Ä—Ç—É–Ω–∞ —É–ª—ã–±–∞–µ—Ç—Å—è —Ç–µ–±–µ</p>
                    </div>
                    
                    <div class="wish-card" data-wish="health">
                        <div class="wish-icon">üí™</div>
                        <h3>–ö—Ä–µ–ø–∫–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è</h3>
                        <p>–ë—É–¥—å –≤—Å–µ–≥–¥–∞ –ø–æ–ª–Ω–∞ —Å–∏–ª –∏ —ç–Ω–µ—Ä–≥–∏–∏</p>
                    </div>
                    
                    <div class="wish-card" data-wish="adventure">
                        <div class="wish-icon">üöÄ</div>
                        <h3>–ù–µ–≤–µ—Ä–æ—è—Ç–Ω—ã—Ö –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π</h3>
                        <p>–ü—É—Å—Ç—å –∂–∏–∑–Ω—å –±—É–¥–µ—Ç —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–π</p>
                    </div>
                </div>
            </section>

            <!-- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ–∫—Ü–∏—è -->
            <section class="interactive-section">
                <h2>–°–æ–∑–¥–∞–π –º–∞–≥–∏—é! ‚ú®</h2>
                <div class="interactive-buttons">
                    <button class="magic-btn primary" onclick="createFireworks()">
                        <span class="btn-icon">üéÜ</span>
                        <span class="btn-text">–§–µ–π–µ—Ä–≤–µ—Ä–∫</span>
                    </button>
                    
                    <button class="magic-btn secondary" onclick="createRainbow()">
                        <span class="btn-icon">üåà</span>
                        <span class="btn-text">–†–∞–¥—É–≥–∞</span>
                    </button>
                    
                    <button class="magic-btn accent" onclick="createButterflies()">
                        <span class="btn-icon">ü¶ã</span>
                        <span class="btn-text">–ë–∞–±–æ—á–∫–∏</span>
                    </button>
                    
                    <button class="magic-btn special" onclick="createGalaxy()">
                        <span class="btn-icon">üåå</span>
                        <span class="btn-text">–ì–∞–ª–∞–∫—Ç–∏–∫–∞</span>
                    </button>
                </div>
            </section>

            <!-- –°–µ–∫—Ü–∏—è —Å –ª—é–±–æ–≤—å—é -->
            <section class="love-section">
                <div class="love-container">
                    <div class="heart-animation">
                        <div class="pulsing-heart">‚ù§Ô∏è</div>
                        <div class="heart-rings"></div>
                    </div>
                    <div class="love-text">
                        <h2>–¢—ã - –º–æ–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ</h2>
                        <p>–ö–∞–∂–¥—ã–π –¥–µ–Ω—å —Å —Ç–æ–±–æ–π - —ç—Ç–æ –ø–æ–¥–∞—Ä–æ–∫ —Å—É–¥—å–±—ã. –¢—ã –¥–µ–ª–∞–µ—à—å –º–æ—é –∂–∏–∑–Ω—å –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–π, –Ω–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –ª—é–±–æ–≤—å—é –∏ —Ä–∞–¥–æ—Å—Ç—å—é.</p>
                        <div class="love-signature">
                            <span>–° –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –ª—é–±–æ–≤—å—é,</span>
                            <span class="signature-name">—Ç–≤–æ–π –î–µ–Ω–∏—Å‚ù§Ô∏è</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- –ì–∞–ª–µ—Ä–µ—è –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π -->
            <!-- <section class="memories-section">
                <h2>–ù–∞—à–∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã üì∏</h2>
                <div class="memories-grid">
                    <div class="memory-card" data-memory="1">
                        <div class="memory-placeholder">üì∏</div>
                        <div class="memory-overlay">
                            <h3>–ü–µ—Ä–≤—ã–π –¥–µ–Ω—å</h3>
                            <p>–ö–æ–≥–¥–∞ –≤—Å–µ –Ω–∞—á–∞–ª–æ—Å—å...</p>
                        </div>
                    </div>
                    <div class="memory-card" data-memory="2">
                        <div class="memory-placeholder">üì∏</div>
                        <div class="memory-overlay">
                            <h3>–í–º–µ—Å—Ç–µ</h3>
                            <p>–ö–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç...</p>
                        </div>
                    </div>
                    <div class="memory-card" data-memory="3">
                        <div class="memory-placeholder">üì∏</div>
                        <h3>–ù–∞–≤—Å–µ–≥–¥–∞</h3>
                        <p>–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è...</p>
                    </div>
                </div>
            </section> -->
        </main>

        <!-- –§—É—Ç–µ—Ä -->
        <footer class="footer-section">
            <div class="footer-content">
                <p>–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è</p>
                <div class="footer-elements">
                    <span>üéÇ</span>
                    <span>üéâ</span>
                    <span>üíù</span>
                    <span>üéä</span>
                </div>
            </div>
        </footer>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</h3>
                <button class="modal-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ -->
            </div>
        </div>
    </div>

    <!-- –ê—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç—ã -->
    <audio id="backgroundMusic" loop>
        <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/wav">
    </audio>

    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <!-- <script src="script.js"></script> -->
</body>
</html>
